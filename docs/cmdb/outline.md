# CMDB/概要字段说明

cmdb中的概要信息，用来做快速的信息匹配和查找。

每个资源的信息有固定的含义。

aws ec2的例子:
```
outline:
  uuid:
    - "实例ID"
  baseinfo:
    - "account"
    - "实例ID"
    - "主机名"
    - "区域"
    - "所在可用区"
  system:
    - "状态"
    - "实例类型"
    - "主机名"
    - "名称"
    - "内网IP"
    - "公网IP"
  contact:
    - "部门"
    - "业务负责人"
    - "运维负责人"
    - "服务树"
```

## 字段说明

### uuid
```
uuid字段是资源的唯一标识，这个id一般情况下不要变更。
服务树绑定用的这个uuid。如果uuid变化，会导致服务树绑定错乱,通过olduuid字段进行记录和修复(aws-rds中有使用这个方式)。
```

### baseinfo
```
当前确定的是前两个字段:
  account
  实例ID
```

### system

前两个字段固定：
```
第一个字段资源状态
第二个字段是资源实例的类型

有的资源可能没有这两个字段.尽量找能体现这两个意思的字段。

如果还是没有，可以配置两个不存在的字段占位
如:
system:
  - "__status__"
  - "__type__"

```
第三个字段之后的说明

```
第三个字段之后的信息是用来定位资源获取别名的。

有如下三种情况：

情况1: 主机名、内网IP、外网IP
情况2: 主机名、名称、内网IP、外网IP
情况3: 名称、 数据库ip、数据库端口

情况1在通过内网ip、外网ip、主机名这三个字段分别都可以定位到一个资源。
在找机器ip的机器别名时，获取的就是主机名这个字段。

情况2比情况1多了一个字段，比如aws-ec2有机器主机名、还有一个机器名称。情况2中的四个字段都可以定位到资源。
在获取资源别名是，如果传入的是ip，返回的是主机名字段。其他两个字段进行交叉返回。

情况3:数据库资源的资源定位，有时候查询条件带端口有时候不带端口。
在最后一个字段是数字的情况下。查询的uuid扩展为 ip 和 ip:端口。 也就是可以通过数据库ip或者数据库ip加端口的形式查询数据库的别名。

```

### contact
```
字段内容固定: 分别是 部门，业务负责人、运维负责人、 服务树
```
